#!/bin/sh

BUILD_DIR=$1
CACHE_DIR=$CACHE_DIR

echo "-----> Installing libpostal"

# Update package lists
apt-get update

# Install dependencies
apt-get install -y build-essential curl

# Download and install libpostal
curl -LO https://github.com/openvenues/libpostal/archive/refs/tags/v1.0.0.tar.gz
tar -xzf v1.0.0.tar.gz
cd libpostal-1.0.0
mkdir -p build
cd build
cmake ..
make
make install

# Cleanup
cd ../../
rm -rf libpostal-1.0.0 v1.0.0.tar.gz

echo "-----> libpostal installed"
